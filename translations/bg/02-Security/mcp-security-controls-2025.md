<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "b59b477037dc1dd6b1740a0420f3be14",
  "translation_date": "2025-07-17T13:39:36+00:00",
  "source_file": "02-Security/mcp-security-controls-2025.md",
  "language_code": "bg"
}
-->
# Последни MCP мерки за сигурност - Актуализация юли 2025

С развитието на Model Context Protocol (MCP) сигурността остава ключов приоритет. Този документ представя най-новите мерки за сигурност и добри практики за сигурна имплементация на MCP към юли 2025.

## Аутентикация и Авторизация

### Поддръжка на OAuth 2.0 делегиране

Последните промени в спецификацията на MCP позволяват на MCP сървърите да делегират аутентикацията на потребителите към външни услуги като Microsoft Entra ID. Това значително подобрява сигурността чрез:

1. **Премахване на нуждата от собствена аутентикация**: Намалява риска от уязвимости в персонализиран код за аутентикация  
2. **Използване на утвърдени доставчици на идентичност**: Възползва се от корпоративни функции за сигурност  
3. **Централизирано управление на идентичността**: Улеснява управлението на потребителския животен цикъл и контрола на достъпа  

## Предотвратяване на препращане на токени

Спецификацията за авторизация на MCP изрично забранява препращането на токени, за да се избегне заобикаляне на мерките за сигурност и проблеми с отчетността.

### Основни изисквания

1. **MCP сървърите НЕ ТРЯБВА да приемат токени, които не са издадени за тях**: Проверявайте, че всички токени имат правилния audience claim  
2. **Прилагайте правилна валидация на токените**: Проверявайте issuer, audience, срок на валидност и подпис  
3. **Издавайте отделни токени**: Издавайте нови токени за downstream услуги, вместо да препращате съществуващи  

## Сигурно управление на сесии

За да се предотвратят атаки като отвличане или фиксация на сесии, прилагайте следните мерки:

1. **Използвайте сигурни, недетерминирани session ID-та**: Генерирани с криптографски сигурни генератори на случайни числа  
2. **Свържете сесиите с идентичността на потребителя**: Комбинирайте session ID с потребителска информация  
3. **Прилагайте правилна ротация на сесиите**: След промени в аутентикацията или повишаване на привилегиите  
4. **Настройте подходящи таймаути на сесиите**: Балансирайте сигурността с удобството за потребителя  

## Изпълнение на инструменти в изолирана среда

За да се предотврати странично движение и да се ограничи потенциален компромис:

1. **Изолирайте средите за изпълнение на инструменти**: Използвайте контейнери или отделни процеси  
2. **Прилагайте ограничения на ресурсите**: Предотвратете атаки за изчерпване на ресурси  
3. **Използвайте принципа на най-малките привилегии**: Давате само необходимите разрешения  
4. **Наблюдавайте моделите на изпълнение**: Откривайте аномално поведение  

## Защита на дефинициите на инструменти

За да се предотврати „отравяне“ на инструментите:

1. **Валидирайте дефинициите на инструментите преди употреба**: Проверявайте за злонамерени инструкции или неподходящи модели  
2. **Използвайте проверка на целостта**: Хеширайте или подписвайте дефинициите, за да откривате неоторизирани промени  
3. **Прилагайте мониторинг на промените**: Известявайте при неочаквани модификации на метаданните на инструментите  
4. **Използвайте контрол на версиите за дефинициите**: Следете промените и позволявайте връщане към предишни версии при нужда  

Тези мерки работят заедно, за да осигурят стабилна сигурност при имплементациите на MCP, като адресират специфичните предизвикателства на AI-системите, без да пренебрегват традиционните добри практики в сигурността.

**Отказ от отговорност**:  
Този документ е преведен с помощта на AI преводаческа услуга [Co-op Translator](https://github.com/Azure/co-op-translator). Въпреки че се стремим към точност, моля, имайте предвид, че автоматизираните преводи могат да съдържат грешки или неточности. Оригиналният документ на неговия роден език трябва да се счита за авторитетен източник. За критична информация се препоръчва професионален човешки превод. Ние не носим отговорност за каквито и да е недоразумения или неправилни тълкувания, произтичащи от използването на този превод.